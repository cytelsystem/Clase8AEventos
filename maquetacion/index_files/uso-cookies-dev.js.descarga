var fecha = new Date();
var expiresdate = new Date(2068, 1, 02, 11, 20);
var nombre = "aceptocookies";
var dateacept = fecha.toUTCString();
var Cookies = document.cookie;
var CookiesResult = Cookies.split(";");
var contcookie = 0;
var divcontainer = document.getElementById('container-cookies');
var divdecliner = document.getElementById('cookies-div');
var divbotones = document.getElementById("botones");
//var btniagree = document.getElementById("iagree");
var btniagree1 = document.getElementById("iagree1");
var btniagree2 = document.getElementById("iagree2");
var btnmoreinfo = document.getElementById("btn-leer-mas");
var btnnoacepto = document.getElementById("decliner")

for(var i = 0; i < CookiesResult.length; i++){
    if(CookiesResult[i]=="RCNCookies=Acepto" || CookiesResult[i]==" RCNCookies=Acepto"){contcookie = contcookie + 1;}
}

if(contcookie == 0){
    //var divcookie = document.getElementById('cookies');
    //divcontainer.classList.add("cookies");
    divcontainer.classList.remove("collapse-cookies");
    //var btniagree = document.getElementById("iagree");
    btniagree1.onclick = function(){
        document.cookie = "RCNCookies=Acepto; expires=" + expiresdate.toUTCString();
        requestConsent();
        divcontainer.classList.add("collapse-cookies");
    }
    btniagree2.onclick = function(){
        document.cookie = "RCNCookies=Acepto; expires=" + expiresdate.toUTCString();
        requestConsent();
        divcontainer.classList.add("collapse-cookies");
    }
    btnnoacepto.onclick = function(){
        document.getElementById('collapse-cookies').removeAttribute('style');
        divbotones.classList.remove("cookies-hidden");
    }
    btnmoreinfo.onclick = function(){
        divbotones.classList.add("cookies-hidden");
        document.getElementById('collapse-cookies').setAttribute('style', 'display: block;');
    }
}

function requestConsent() {
    try {
        cX.setConsent({ 'recs': true, 'segments': true, 'ad': true }, { runCallQueue: true });
        
    } catch (error) {
        console.log("cx consent error");
        
    }

  
 }

function requestAuto() {
    try {
        cX.setConsent({ 'pv': true }, { runCallQueue: true });
        
    } catch (error) {
        console.log("cx consent auto  error");
        
    }


 
 }

